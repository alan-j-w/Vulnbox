{% extends 'base.html' %}

{% block title %}Command Injection Lab{% endblock %}

{% block content %}
<div class="w-full max-w-2xl mx-auto text-center">
    <div class="bg-black/70 p-8 border-2 border-green-500/50 rounded-xl backdrop-blur-sm">
        <h2 class="text-3xl font-bold text-center text-green-400 mb-4">Network Diagnostic Tool</h2>
        <p class="text-gray-400 mb-6">Enter an IP address to ping. The tool will send 4 packets. Can you make it do more?</p>

        <form method="POST">
            {% csrf_token %}
            <div class="mb-4">
                <input 
                    type="text" 
                    name="ip_address" 
                    id="id_ip_address" 
                    class="w-full bg-gray-900/50 border-2 border-green-700 rounded-md p-3 text-white focus:outline-none focus:ring-2 focus:ring-green-400 transition-all text-center font-mono"
                    placeholder="e.g., 8.8.8.8; whoami"
                >
            </div>
            <button 
                type="submit" 
                class="w-full bg-green-600 text-black font-bold py-2 px-4 rounded-lg hover:bg-green-500 transition-colors"
            >
                Ping Host
            </button>
        </form>

        {% if command_output %}
        <div class="mt-8 border-t-2 border-green-500/50 pt-6">
            <h3 class="text-xl font-bold text-gray-300 mb-4">Command Output:</h3>
            <pre class="bg-gray-900/50 p-4 rounded-md text-left font-mono text-sm text-gray-300 whitespace-pre-wrap">{{ command_output }}</pre>
        </div>
        {% endif %}

        {% if error %}
        <div class="mt-6 bg-red-500/20 border border-red-500 text-red-300 p-3 rounded-md text-sm">
            {{ error }}
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}

